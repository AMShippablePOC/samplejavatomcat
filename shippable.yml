language: java

jdk:
  - oraclejdk8

branches:
  only:
    - master

env:
  global:
    - secure: 82VJOTTNqBbzXH/IK9tvNwk8QQMijiaEt05+yDZL5e70GsbSxYj6gtspNQmrPUpMKZgKYDHH0nCm+bFqQe/QwH7PWEz8xJM1Jqo5Iqu9xNXcffr5fLFc+YPVONKzZlub+oxabfoB86M9rx0Q1QThz5BrIJDTimEHMjRMrz1crOghkHB2fk6vk0hhaxwPZdkyZXkC0dwx3ze7OG2/wKEOt/qVaQtIOhdXT4Q0wJ3jlLR/SrPwqAxqjuCPMN2q07iUsRCAJkcAPflmwikYXxxTHUd5pVo+c6oBZTqYiu3YimwmMsrrMWpsu9VsKmyTJKDXzYchasJldEQDaNUQtABTrg==

build:
  ci:
    - sed -i "s/{PASSWORD}/$PASSWORD/" .m2/settings.xml
    - mvn -q -B -s .m2/settings.xml -U clean package
    - docker build -t ttrahan/HelloWorld.$BRANCH.$BUILD_NUMBER .
    - docker push ttrahan/HelloWorld.$BRANCH.$BUILD_NUMBER

integrations:
  hub:
    - integrationName: ttrahan-dh
      type: docker
